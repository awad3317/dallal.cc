<?php

namespace Database\Seeders;

use App\Models\region;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;

class RegionSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        
        DB::table('regions')->truncate();

        
        $cities = [
            'جدة', 'الرياض', 'مكة المكرمة', 'المدينة المنورة', 'الدمام', 'الخبر', 'الطائف', 'تبوك', 'بريدة', 'خميس مشيط', 'الهفوف', 'الجبيل'
        ];

        
        $neighborhoods = [
            
            'جدة' => [
                'الصفا',
                'البغدادية',
                'النزلة اليمانية',
                'النزلة الشرقية',
                'الشرفية',
                'الكندرة',
                'السلامة',
                'المحمدية',
                'الروضة',
                'الحمراء',
            ],

            
            'الرياض' => [
                'الملز',
                'العليا',
                'السليمانية',
                'النخيل',
                'العريجاء',
                'الغدير',
                'الشفا',
                'المعذر',
                'العريجاء',
                'الندوة',
            ],

            
            'مكة المكرمة' => [
                'العزيزية',
                'المسفلة',
                'الشوقية',
                'العوالي',
                'الشرائع',
                'الهجرة',
                'النوارية',
                'العمرة',
                'كدي',
                'العكيشية',
            ],

            
            'المدينة المنورة' => [
                'العيون',
                'قباء',
                'العاقول',
                'الملك فهد',
                'الحرم',
                'السيح',
                'الشريبات',
                'المبعوث',
                'العزيزية',
                'الأزهري',
            ],

            
            'الدمام' => [
                'الشاطئ',
                'النخيل',
                'المزروعية',
                'البادية',
                'الفيصلية',
                'الخليج',
                'الريان',
                'العدامة',
                'السلمانية',
                'الفناتير',
            ],

            
            'الخبر' => [
                'الحزام الذهبي',
                'الراكة',
                'الجسر',
                'الثقبة',
                'العقربية',
                'الدوحة',
                'الريان',
                'النهضة',
                'المرجان',
                'العليا',
            ],

        
            'الطائف' => [
                'الشفا',
                'الردف',
                'قروى',
                'العقيق',
                'السيل الكبير',
                'الهدار',
                'الهدا',
                'الشرقية',
                'الوهط',
                'البهجة',
            ],

            
            'تبوك' => [
                'المصيف',
                'العليا',
                'النخيل',
                'الورود',
                'الصناعية',
                'الملك فهد',
                'الملك عبدالله',
                'الروضة',
                'الفيصلية',
                'الخالدية',
            ],

            
            'بريدة' => [
                'الريان',
                'النخيل',
                'العليا',
                'الفيصلية',
                'الخالدية',
                'الروضة',
                'الملك فهد',
                'الملك عبدالله',
                'الصناعية',
                'السلام',
            ],

            
            'خميس مشيط' => [
                'النخيل',
                'الفيصلية',
                'الخالدية',
                'الروضة',
                'الملك فهد',
                'الملك عبدالله',
                'الصناعية',
                'السلام',
                'العليا',
                'الريان',
            ],

            
            'الهفوف' => [
                'النخيل',
                'الفيصلية',
                'الخالدية',
                'الروضة',
                'الملك فهد',
                'الملك عبدالله',
                'الصناعية',
                'السلام',
                'العليا',
                'الريان',
            ],

        
            'الجبيل' => [
                'النخيل',
                'الفيصلية',
                'الخالدية',
                'الروضة',
                'الملك فهد',
                'الملك عبدالله',
                'الصناعية',
                'السلام',
                'العليا',
                'الريان',
            ],
        ];


        foreach ($cities as $city) {
            
            $parentRegion = region::create([
                'name' => $city,
                'parent_id' => null, 
            ]);

            if (isset($neighborhoods[$city])) {
                foreach ($neighborhoods[$city] as $neighborhood) {
                    region::create([
                        'name' => $neighborhood,
                        'parent_id' => $parentRegion->id, 
                    ]);
                }
            }
        }
    }
}